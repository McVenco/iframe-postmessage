<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Grandchild iframe</title>
</head>
<body>
    Grandchild iframe <br>
    
    Send messages to parent frame: <br>
    <button id="msg_1">Send message 1</button>
    <button id="msg_2">Send message 2</button>
    <button id="msg_3">Send message 3</button>
    <button id="send_all">Send all</button>

    <script type="text/javascript">
        let msg_1 = 'I am message 1';
        let msg_2 = 'I am message 2';
        let msg_3 = 'I am message 3';

        document.querySelector('#msg_1').onclick = function () {
            parent.postMessage({msg_1: msg_1}, "*");
        };
        document.querySelector('#msg_2').onclick = function () {
            parent.postMessage({msg_2: msg_2}, "*");
        };
        document.querySelector('#msg_3').onclick = function () {
            parent.postMessage({msg_3: msg_3}, "*");
        };
        document.querySelector('#send_all').onclick = function () {
            parent.postMessage({msg_1: msg_1, msg_2: msg_2, msg_3: msg_3}, "*");
        };
    </script>

</body>
</html>
